---
layout: default
title: Work
---

<style>

.card {
  display: block;
  margin: 0 0 var(--gap);
  text-decoration: none; color: inherit;
  break-inside: avoid-column;
  transition: transform .18s ease, filter .18s ease, border-color .12s ease;
  overflow: hidden;  

  /* robust "no break in columns" set */
  -webkit-column-break-inside: avoid;
  -moz-column-break-inside: avoid;
  page-break-inside: avoid;
  contain: paint;                  /* isolate painting inside the card */
}

.card .media{
  height: var(--tileh, 300px);
  overflow: hidden;
  place-items: center;                 /* center the child */
}

.card .card-media{
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);   /* true centering */
  width: 100%;
  height: 100%;
  object-fit: cover;                   /* crop */
  object-position: center;
  display: block;
}

/* Width spans (1 or 2 columns wide) */
.card.w1{ grid-column: span 1; }
.card.w2{ grid-column: span 2; }


.caption {
  display:flex; flex-direction:column; gap:6px;
  padding: 10px 12px;
}
.caption .title {
  margin:0; font-weight:700; text-transform: uppercase; letter-spacing:.04em;
  font-size:.95rem; line-height:1.15;
}
.caption .desc { margin:0; color:var(--muted); font-size:.85rem; line-height:1.35; }


/* Ensure video previews don't block card link */
.card video.card-media {background:#000; min-height:120px; }


/* --- Responsive fixed-column grid --- */
.masonry{
  --cols: 3;          /* desktop default */
  --gap: 100px;
  display: grid;
  grid-template-columns: repeat(var(--cols), 1fr);
  gap: var(--gap);
  max-width: 1600px;  /* optional, centers the gallery */
  margin: 0 auto;
}

/* Tablet: 2 columns */
@media (max-width: 1024px){
  .masonry{ --cols: 2; }
}

/* Phone: 1 column */
@media (max-width: 680px){
  .masonry{ --cols: 1; }
  /* Any wide tiles collapse to 1 col to avoid sideways scroll */
  .masonry .card.w2{ grid-column: span 1; }
}
</style>

<header class="index">
  <div class="nav-left">
    <nav><a href="{{ '/' | relative_url }}">Work</a></nav>
    <nav><a href="/about">About</a></nav>
    <!-- add more items  -->
  </div>
  <a href="{{ '/' | relative_url }}" class="site-title">
    <img src="{{ '/assets/favicon-16x16.png' | relative_url }}" alt="logo" class="site-icon">
    tia</a>
  
  <div class="nav-right">
    <nav><a href="https://www.instagram.com/shadyside.productions/">Instagram</a></nav>
    <!-- add more items  -->
    </div>
</header>

<div class="masonry">
  {% assign projects = site.projects | sort: "date" | reverse %}
  {% for p in projects %}
    {% assign cover_lc = p.cover | downcase %}
    <a class="card w1" href="{{ p.url | relative_url }}">
      <div class="media">
        {% if cover_lc contains '.mp4' or cover_lc contains '.webm' %}
          <video
            class="card-media"
            src="{{ p.cover | relative_url }}"
            muted
            playsinline
            webkit-playsinline
            autoplay
            preload="auto">
          </video>
        {% else %}
          <img class="card-media" src="{{ p.cover | relative_url }}" alt="{{ p.title }}">
        {% endif %}
      </div>
      <div class="caption">
        <h3 class="title">{{ p.title }}</h3>
        {% if p.description %}<p class="desc">{{ p.description }}</p>{% endif %}
      </div>
    </a>
  {% endfor %}
</div>
<footer class="site-footer">
  <p>Â© 2025 tia. All rights reserved.</p>
  <p><a href="mailto:{{ site.email }}">{{ site.email }}</a></p>
</footer>

{% capture content_for_scripts %}
<script>
document.addEventListener('DOMContentLoaded', () => {
  const vids = document.querySelectorAll('.card video.card-media');
  if (!vids.length) return;

  vids.forEach(v => {
    // attributes + properties (Safari can require both)
    v.setAttribute('muted','');
    v.setAttribute('playsinline','');
    v.setAttribute('webkit-playsinline','');
    v.setAttribute('autoplay','');
    v.preload = 'auto';

    v.muted = true;
    v.playsInline = true;
    v.webkitPlaysInline = true;
    v.autoplay = true;
    v.loop = false;

    const tryPlay = () => v.play().catch(()=>{});
    if (v.readyState >= 1) tryPlay();
    else v.addEventListener('loadedmetadata', tryPlay, { once:true });
  });

  // Play/pause based on visibility (smoother + more reliable)
  if ('IntersectionObserver' in window) {
    const io = new IntersectionObserver(entries => {
      entries.forEach(e => {
        const v = e.target;
        if (e.isIntersecting) v.play().catch(()=>{});
        else v.pause();
      });
    }, { threshold: 0.2 });
    vids.forEach(v => io.observe(v));
  }
});

v.addEventListener('ended', () => {
  v.pause();
  v.currentTime = v.duration; // hold on the last frame
});
</script>
{% endcapture %}